# 参考书籍：渗透测试入门
> 以下内容建议从生活实用方面、网络攻防实用方面考虑和理解

### 计算机网络基础
#### 软件层面/理论层面
* OSI七层模型都有哪七层？
* 什么是TCP/IP四层模型？
* 什么时候用OSI,什么时候用TCP/IP四层模型？
* TCP/IP四层模型都有哪四层？
* 数据链路层做了什么？
* 表示层有什么用？
* 什么是tcp，全拼又是什么？
* 什么是udp，全拼又是什么？
* tcp的行为模式是怎样的？
* tcp的数据包(报文段)是什么样的？
* tcp如何让数据包以正确顺序传输到目标？
* tcp如何保证报文段全都达到目标（发送方和接收方如何互动）？
* tcp三次握手和四次挥手？
* qq这类软件发消息时使用什么协议，打语音电话又使用什么协议？
* HTTP与TCP/IP的关系？
* HTTP在第几层？
* 为什么HTTP慢慢取代了FTP？
* 现在发邮件到底用的mail还是http？
* 应用层协议有什么特征？
* 现代浏览器在开启下载任务时用的是什么协议？
* 什么是长连接，什么是websocket？
* 如何区分数据链路层与传输层？
* IP协议是什么,它负责什么，全拼是什么？
* IPv4是什么，IPv6是什么？
* 如果双方IP协议版本不一样会发生什么？
* IP报文大概长什么样？
* IP地址格式是怎样的？
* 什么是TCP/IP？
* TCP/IP位于OSI第几层，为什么TCP和IP放一块？
* TCP/IP只包含TCP和IP吗？
* 应用层协议都有哪些，那些比较常用，各自的作用是什么？
* 应用程序联网时与第几层接触？
* 应用层的协议只是个标准吗，或者是作为独立应用程序存在，或者两者都是？
* 如何在linux和windows上查看本机被分配的IP地址，IP地址是如何分配的？
* wifi，手机usb共享，网口有线连接的时候，ip addr show输出格式有什么不一样？
* 哪些设备通常被分配静态ip，有什么好处？
* 哪些设备通常被分配动态ip，有什么好处？
* 网络摄像头、监控、服务器都是使用的静态ip吗？
* 从客户端如何设置一个在该局域网内的静态ip,原理是什么？
* 都可以从哪里设置静态ip？
* 公网和内网的不同会造成什么？
* 从两台不同的，且无有线连接的设备上看到相同的ip可能因为什么？
* 什么是DHCP，这东西应用在哪里？
* 路由器给每个连入的设备都是分配动态ip吗，这与上边哪些问题有关？
* 什么是子网掩码，都有哪些表示形式？
* 什么是TCP/IP端口？
* TCP/IP端口只与应用程序相对应吗？
* TCP/IP端口是否给协议分配有端口？
* 什么是套接字？
* TCP/IP端口是如何分配的（包括原理与操作步骤）？
* 一些常见端口有哪些，对应什么内容？
* 什么是注册端口？
* 一些有价值的注册端口有哪些？
* 什么是临时端口，有什么用？
* 为什么更新游戏时会产生超级大量且频繁的TCP连接与断连，并且这些连接随机分布在大量高位端口上？
* 什么是带宽？
* 为什么多个tcp连接能够加大带宽利用率？
* 什么是以太网？
* 什么是以太网链路，除了这个还有什么类型的网络？
#### 设备层面
* 网络设备常见都有哪些？
* 是哪个设备让IPv4和IPv6能够相互交流？
* 路由器它自己在网络中的ip是如何分配的？
* 什么是NAT？
* 什么是ISP？
* 路由器如何把处于路由器局域网内的设备流量转发出去,与上述问题的哪个名词有关？
* 路由器LAN口IP怎么分配？
* 如何区分WAN口和LAN口？
* 路由器上有几个WAN口？
* 局域网无线连接连的是什么口？
* 不同路由器管辖下的不同设备可能有相同的ip吗？
* 对于ip相同的设备，网络层如何区分不同设备并路由？
* 路由器如何路由？
* 路由器WAN口和LAN口各有什么作用，各自用于访问哪些网络？
* 校园网限制账号下联机设备数量，用手机热点能突破限制吗？
* 什么是交换机，有什么用，它处理什么？
* 什么是MAC？
* MAC写在哪？
* MAC地址怎么表示，占用几位二进制数，对应几位16进制数？
* MAC各部分分别代表什么意思？
* 什么是代理服务器，代理在OSI第几层运行？
* 代理对于安全方面有什么用？
* 防火墙分为几类？
* 什么是包过滤，什么是有状态包过滤？
* 什么是IPS,什么是IDS，哪一个是被动的？

----
### **一、 渗透实战视角：攻击操作息息相关的核心问题**

这个列表旨在直接指导攻击行为，每个问题都指向一个具体的攻击面或技术点。

#### **网络侦察与信息收集**
*   如何快速发现同一局域网内的所有活跃设备？（与ARP、ICMP协议相关）
*   有哪些方法可以识别目标服务器的操作系统和开放端口？（与指纹识别、端口扫描相关）
*   如何判断一个IP地址是属于公网还是内网？（与NAT、路由追踪相关）
*   如何通过扫描发现网络中的常见服务（如HTTP, FTP, SSH）及其版本？（与服务枚举、漏洞利用相关）
*   什么是“横幅抓取”，在渗透测试中如何利用它？（与服务识别、信息泄露相关）

#### **协议攻击与利用**
*   TCP三次握手的过程是怎样的？如何利用其进行“SYN洪水攻击”？
*   UDP协议为何容易被用于“反射放大攻击”？原理是什么？
*   ARP协议的工作机制是什么？如何发起“ARP欺骗/毒化”攻击以监听或劫持流量？
*   DHCP协议如何分配IP？如何发起“DHCP饥饿攻击”或 rogue DHCP 攻击？
*   DNS协议在查询过程中存在什么缺陷？如何发起“DNS劫持”或“DNS缓存投毒”？

#### **权限维持与横向移动**
*   什么是“网络套接字”？后门程序如何利用套接字与攻击者通信？
*   什么是“反向Shell”？为什么它在绕过防火墙时比“正向Shell”更有效？
*   在拿下内网一台主机后，如何利用它作为跳板进行“横向移动”？（与代理、路由转发相关）
*   Windows域环境中，哪些关键端口（如SMB, LDAP, Kerberos）是横向移动的重点目标？

#### **防火墙与防御规避**
*   防火墙的“包过滤”机制是如何工作的？如何通过修改数据包特征（如源端口、标志位）来绕过它？
*   什么是“有状态”防火墙？它与无状态防火墙在规避难度上有何区别？
*   如何区分IDS和IPS？哪种系统更容易被“探测”从而避免触发警报？（IDS是被动的）
*   代理服务器工作在OSI哪一层？如何利用它来隐藏攻击流量的真实来源？

#### **Web应用攻击**
*   Web应用主要运行在OSI哪一层？攻击者主要与哪一层交互？
*   HTTP协议是无状态的，Web应用如何维持会话？如何窃取或伪造会话凭证（如Cookie）？
*   WebSocket协议与HTTP长连接有何不同？如何对WebSocket接口进行漏洞测试？

---

### **二、 生活实用视角：日常网络使用与排障问题**

这个列表旨在解决普通人上网时遇到的实际问题，语言更通俗。

#### **家庭网络连接与配置**
*   家里的Wi-Fi上不了网了，应该如何一步步排查问题？（从光猫、路由器到设备本身）
*   手机和电脑如何查看自己当前被分配到的IP地址？
*   什么是“静态IP”？什么时候需要给自己家的电脑或NAS设置静态IP？（如端口映射、远程访问）
*   如何进入路由器的管理后台？常用的路由器IP地址是什么？（如192.168.1.1）
*   路由器的WAN口和LAN口有什么区别？网线应该插在哪个口上？

#### **网速、延迟与稳定性**
*   为什么玩网络游戏或开视频会议时，对网络延迟要求很高，而下载文件则对带宽要求高？
*   感觉Wi-Fi速度慢，可能是哪些原因造成的？（如信道干扰、距离、障碍物）
*   手机开热点和连接家里Wi-Fi，在IP地址和网速上有什么不同？

#### **隐私、安全与访问控制**
*   什么是“内网IP”（如192.168.x.x）？为什么我们上网用的通常是内网IP而不是公网IP？
*   公网IP和内网IP有什么不同？为什么想从外面访问家里的摄像头或NAS需要公网IP或特殊设置？
*   路由器里的“防火墙”开关是做什么的？平时应该打开吗？
*   什么是“MAC地址过滤”？用它来防止邻居“蹭网”有效吗？
*   校园网限制一个账号只能用一个设备，用路由器或者手机热点能突破这个限制吗？原理是什么？

#### **常见设备与概念**
*   交换机和路由器长得差不多，它们到底有什么区别？
*   手机“个人热点”功能的本质是什么？（是一个简易的无线路由器）
*   什么是ISP？我们常说的“宽带运营商”就是ISP吗？
*   IPv4和IPv6地址看起来有什么区别？我的设备支持IPv6吗？支持了会有什么变化？

---
#### 过程中理解：
> 现在请你分析，当你点击一个网页，按下下载按钮后，TCP/IP的各层、各协议都在干嘛？
> 你给某人发送了一封邮件（qq邮箱），都发生了什么？
---
### 通信加密
#### 对称加密
* 什么是对称加密？
* 什么是密钥？
* 凯撒密码是什么？
* ROT13是什么？
* 常用的对称加密算法有？
* 什么是数据加密标准（DES），是否常用，为什么？
* 什么是3DES，是否常用，在哪常用？
* 什么是高级加密标准（AES），是否常用，在哪常用？
* 什么是国际数据加密算法（IDEA）？
#### 非对称（或公钥）加密技术
* 什么是非对称加密，如何工作，有什么优点？
* 什么是公钥？
* 什么是私钥？
* 如果私钥加密了文本，该怎么解密？
* 加密解密分别用的什么密钥？
* 数字签名的加密（签名）和解密（验签）分别用的什么密钥？
* 为什么需要数字签名，签名的识别又是怎么做的？
* 为什么不全都用公钥加密，私钥解密？
* 为什么不全都用私钥加密，公钥解密？
* 为什么非对称加密这么强大，还要使用对称加密？
#### 准确且安全地传输
* 什么是TLS/SSL？
* 什么是TLS/SSL握手？
* 什么是握手？
* 握手握手握握双手？？
* 什么是哈希算法？
* 什么是安全哈希算法（SHA）？
* 哈希值有什么用？
* 什么是MD5？
* 什么是数字签名服务器，有什么用？
* 什么是CA？
* 什么是数字证书？
* 数字证书存储在哪里？
* 装系统的时候证书就装上去了吗？
* 证书如何被CA发现不正常使用并吊销？
* 有哪些出名的CA？
* 注册成为一家CA难吗？
* 公钥在哪？
* 私钥在哪？
* 哈希值被谁携带？
* 数字签名里面有什么？
* 如何知道对方的数字证书有没有被吊销？
* 传输过程总共发几份内容（正文、哈希值.....）？
* 收发双方如何精确同步哈希算法？
* 为什么需要哈希值来验证文本是否被改动（安全方面、性能方面....）？
* 拿到传输的信息之后检查信息的顺序是什么（签名、证书、正文、哈希）？
* tcp的每段报文都有签名和证书之类的内容吗？
* udp如何用认证机制？
* 什么是PKI？
* CA如何追踪证书使用情况？
* CA只有一个吗？
* CA如何作为通信双方都信任的一方，在全世界建立信任链（原理解释）？
* 什么是CRL？
* CRL太大了咋办？
* 什么是OCSP响应器？
* 什么是OCSP封装(OCSP stapling)？
* 为什么OCSP封装不会导致伪造证书的出现？
* 证书只存在于服务器吗？
* 什么是双向认证，什么时候双向认证？
* 证书包含在哪里？
* 什么是隐写术？
* 为何使用隐写术？
* 隐写术相对于密码学有什么优点？
#### 更详细地了解/理解：
> 从制作并发送一封文档来讲述认证流程
> 自己搜索“传输认证流程”相关文章或wiki
---
#### 攻防思路
* 什么是哈希碰撞，有什么用？
* 现在的哈希算法还能产生哈希碰撞吗？
* 如果想制作一个哈希碰撞，你需要准备什么？
* 哈希碰撞怎么打败签名机制？
* 什么是中间人攻击？
* 用中间人攻击来做哈希碰撞，你看我牛逼不牛逼？
* **网络攻击中哈希碰撞的应用示例以及原理层解释**？
* 私钥位置大概会出现在哪些地方？
* 找到私钥后能做什么？
* CA私钥(root key(为什么叫root key？))被窃取后，怎么触发CA的私钥保护机制，又怎么保护？
* 如何触发证书吊销？
* 如何利用CRL来欺骗目标接受一个被吊销的证书，CRL又如何应对这种攻击？
* OCSP如何在不牺牲时效性的同时，防御针对客户端的隐私跟踪攻击（即CA知道用户在访问哪些网站）的？
* 客户端使用 CRL 机制检查证书状态时，其本地检查过程具体是如何进行的，以及它如何处理 CRL 文件过期的问题？
* 如果一个证书需要立即被吊销，OCSP 响应机制是如何保证状态的实时更新，并要求客户端在 TLS 握手阶段完成状态确认的？

### 渗透测试引言
#### 定制计划
    * 进行渗透前你需要先明白你要做什么
    * 渗透计划一定要尽可能少触犯法律或引起注意
    * 渗透前先做好风险规划和预防
    * 渗透前信息搜集一定做牢
* 什么是EC-Council流程？
* 踩点都包含什么步骤？
* 哪个前期阶段特别容易触发警报？
* 渗透一定要注重隐藏痕迹，为什么？
* 渗透后植入后门是好习惯吗？
#### 信息搜集
* 信息搜集分为哪三类？
* 什么是被动搜集，如何与OSINT区分？
* --反正咋搜集咋爽就行了--
    * ***如何做一名合格的偷窥狂***
    * 检查公司网站
    * 留意所有电子邮件地址，重点留意与目标相关的
    * 对于收集到的邮件可以用来社会工程学攻击，也可以用来做侦查
    * 还要留意物理地址（目标所在区域的地形什么的）
    * 招聘信息，比如或许就招聘有"windows server"操作员工，这就说明他们用windows server
    * 产品、项目、服务什么的相关信息
    * 能进公开群聊是很好的进展
* 如何使用wget检索网站（比如镜像一个出来）？
* 如何用wget递归下载整个网站（所有页面）？
* 寻找出一个域名下有价值的子域有哪些方法（参考方法：www.netcraft.com）？
* 如何查看一个不复存在的网站？
* Archive.org怎么用，这个网站是什么原理，由谁管理和支持，这个网站能找到历史上所有的网站的归档吗？
* google高级搜索怎么用（黑客向）？
* 什么是搜索引擎告警？
* 怎么获取google告警？
* 为什么调查一个目标时要了解其对手？
* politemail是什么？
* whoreadme又是什么？
* 什么是whois？
* whois为什么会被域名服务器干翻？
#### 扫描
* 网内扫描的基本原理是什么？
* 什么是ping，原理是什么？
* 为什么被ping主机会回应ping？
* ping扫描有什么用？
* 什么是端口扫描，原理是什么？
* 为什么尝试识别操作系统的行为能够显著提高被检测的可能性？
* 什么是ICMP？
* 什么是ICMP扫描？
* ping可以ping主机名，也可以ping IP，但为什么不推荐ping主机名？
* 结合上边那条问题，说一下DNS是怎么运作的，DNS都分布在哪，简单路由器配置下的局域网内有吗？
* 什么是angry IP？什么是nmap？
* nmap超级大蛇软件有没有GUI？
* 知名端口、注册端口、动态端口的范围？
* 什么是TCP标志位，作用的原理是什么？
* TCP标志位有哪些？
* RST标志究竟是和意味？
* 什么是TCP连接扫描？
* 什么是端口扫描？
* 什么是全开扫描？
* 为什么全开扫描会很“吵闹”？
* 有没有什么更好的端口扫描方法？
* 什么是隐蔽扫描（半开扫描）？
* 半开扫描与全开扫描的区别是？
* 为什么同样是发送三个TCP信号，半开扫描比全开扫描隐蔽的多，中间到底都发生了什么？
* 为什么半开扫描不如全开扫描可靠，而且没有全开扫描快？
* 什么是圣诞树扫描（圣诞树包，神风特工，丑恶报文，灯泡测试段）？
* TCP位为什么可以同时设置多个，怎么设置的，TCP支持这样做的意义在于？
* 圣诞树扫描为什么可行？
* 什么是FIN扫描？
* RFC-793对于非法请求的回复标准是怎样的？
* RST回复机制到底是怎样的？
* NULL扫描是什么？
* NULL扫描与圣诞树扫描的联系与区别？
* 什么是ACK扫描,原理是什么，为什么几乎一定会检测出来防火墙？
* 什么是分段扫描？
* 什么是MTU？
* MTU常见大小是多大（单位）？
* 怎么理解端口扫描当中的open和closed？
* 什么是UDP扫描？
* 以上哪个扫描最隐蔽，给隐蔽程度排个排行？
* 什么是操作系统指纹识别？
* 指纹识别有几种方法，原理是什么？
* 为什么操作系统会有指纹，指纹长什么样？
* 什么是banner抓取？
* 什么是telnet？
* 为什么这么多程序喜欢走80端口？
* 什么是漏洞扫描器，工作原理与什么比较相似，为什么不推荐使用？
* 什么手段可以使网络管理员只发现被攻击，但找不到你本人？
* 什么是Tor洋葱路由？
* 渗透测试中枚举有什么作用？
* 什么是SMTP枚举？
#### 漏洞和利用
* USB漏洞利用方式有？
* 什么是rubber ducky设备，该设备说明了系统对于USB接入有什么问题？
* 在哪里快速获知当前各种系统的新漏洞？
* hak5都卖什么神奇小玩意？
#### 后门和恶意软件
* 在Windows系统安装后门有哪些方法？
* 什么是LAN Turtle？
* 怎么区分后门和间谍软件，病毒和木马？
* 什么是rootkit？
* 什么是加密病毒/勒索软件？
* 计算机病毒必须具有什么特征？
* 什么是病毒制作工具包？
